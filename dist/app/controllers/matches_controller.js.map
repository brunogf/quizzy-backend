{"version":3,"sources":["../../../app/controllers/matches_controller.js"],"names":["index","req","res","next","find","lean","exec","err","matches","json","show","findOne","params","url","match","status","error","errmsg","create","body","update","findByIdAndUpdate","id","$set","new","destroy","findByIdAndRemove"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AAKO,IAAMA,wBAAQ,SAARA,KAAQ,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACvC,kBAAMC,IAAN,GAAaC,IAAb,GAAoBC,IAApB,CAAyB,UAACC,GAAD,EAAMC,OAAN,EAAkB;AACzCN,QAAIO,IAAJ,CAAS,8BAAWD,OAAX,CAAT;AACD,GAFD;AAGD,CAJM;;AAMA,IAAME,sBAAO,SAAPA,IAAO,CAACT,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACtC,kBAAMQ,OAAN,CAAc;AACZ,WAAOV,IAAIW,MAAJ,CAAWC;AADN,GAAd,EAEGR,IAFH,GAEUC,IAFV,CAEe,UAACC,GAAD,EAAMO,KAAN,EAAgB;AAC7B,QAAIP,GAAJ,EAAS;AACP,aAAOL,IAAIa,MAAJ,CAAW,GAAX,EACJN,IADI,CACC;AACJO,eAAOT,IAAIU;AADP,OADD,CAAP;AAID,KALD,MAKO;AACL,UAAIH,SAAS,IAAb,EAAmB;AACjB,eAAOZ,IAAIa,MAAJ,CAAW,GAAX,EACJN,IADI,CACC,EADD,CAAP;AAED,OAHD,MAGO;AACLP,YAAIO,IAAJ,CAAS,6BAAUK,KAAV,CAAT;AACD;AACF;AACF,GAhBD;AAiBD,CAlBM;;AAoBA,IAAMI,0BAAS,SAATA,MAAS,CAACjB,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACxC,kBAAMe,MAAN,CAAajB,IAAIkB,IAAJ,CAASL,KAAtB,EAA6B,UAASP,GAAT,EAAcO,KAAd,EAAqB;AAChD,QAAIP,GAAJ,EAAS;AACP,aAAOL,IAAIa,MAAJ,CAAW,GAAX,EACJN,IADI,CACC;AACJO,eAAOT,IAAIU;AADP,OADD,CAAP;AAID,KALD,MAKO;AACL,aAAOf,IAAIO,IAAJ,CAAS,EAAT,CAAP;AACD;AACF,GATD;AAUD,CAXM;;AAaA,IAAMW,0BAAS,SAATA,MAAS,CAACnB,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACxC,kBAAMkB,iBAAN,CAAwBpB,IAAIW,MAAJ,CAAWU,EAAnC,EAAuC;AACrCC,UAAMtB,IAAIkB,IAAJ,CAASL;AADsB,GAAvC,EAEG;AACDU,SAAK;AADJ,GAFH,EAIGlB,IAJH,CAIQ,UAACC,GAAD,EAAMO,KAAN,EAAgB;AACtB,QAAIP,GAAJ,EAAS;AACP,aAAOL,IAAIa,MAAJ,CAAW,GAAX,EACJN,IADI,CACC;AACJO,eAAOT,IAAIU;AADP,OADD,CAAP;AAID,KALD,MAKO;AACL,aAAOf,IAAIO,IAAJ,CAAS,6BAAUK,KAAV,CAAT,CAAP;AACD;AACF,GAbD;AAcD,CAfM;;AAiBA,IAAMW,4BAAU,SAAVA,OAAU,CAACxB,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACzC,kBAAMuB,iBAAN,CAAwBzB,IAAIW,MAAJ,CAAWU,EAAnC,EAAuChB,IAAvC,CAA4C,UAACC,GAAD,EAAMO,KAAN,EAAgB;AAC1D,QAAIP,GAAJ,EAAS;AACP,aAAOL,IAAIa,MAAJ,CAAW,GAAX,EACJN,IADI,CACC;AACJO,eAAOT,IAAIU;AADP,OADD,CAAP;AAID,KALD,MAKO;AACL,aAAOf,IAAIO,IAAJ,CAAS,EAAT,CAAP;AACD;AACF,GATD;AAUD,CAXM","file":"matches_controller.js","sourcesContent":["import Match from '../models/match';\nimport {\n  matchIndex,\n  matchShow\n} from '../views/matches_view';\n\nexport const index = (req, res, next) => {\n  Match.find().lean().exec((err, matches) => {\n    res.json(matchIndex(matches));\n  });\n};\n\nexport const show = (req, res, next) => {\n  Match.findOne({\n    'url': req.params.url\n  }).lean().exec((err, match) => {\n    if (err) {\n      return res.status(400)\n        .json({\n          error: err.errmsg\n        });\n    } else {\n      if (match == null) {\n        return res.status(404)\n          .json({});\n      } else {\n        res.json(matchShow(match));\n      }\n    }\n  });\n}\n\nexport const create = (req, res, next) => {\n  Match.create(req.body.match, function(err, match) {\n    if (err) {\n      return res.status(400)\n        .json({\n          error: err.errmsg\n        });\n    } else {\n      return res.json({});\n    }\n  });\n}\n\nexport const update = (req, res, next) => {\n  Match.findByIdAndUpdate(req.params.id, {\n    $set: req.body.match\n  }, {\n    new: true\n  }).exec((err, match) => {\n    if (err) {\n      return res.status(400)\n        .json({\n          error: err.errmsg\n        });\n    } else {\n      return res.json(matchShow(match));\n    }\n  });\n}\n\nexport const destroy = (req, res, next) => {\n  Match.findByIdAndRemove(req.params.id).exec((err, match) => {\n    if (err) {\n      return res.status(400)\n        .json({\n          error: err.errmsg\n        });\n    } else {\n      return res.json({});\n    }\n  });\n}"]}