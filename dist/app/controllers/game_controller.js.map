{"version":3,"sources":["../../../app/controllers/game_controller.js"],"names":["index","req","res","next","find","lean","exec","err","games","status","json","error","errmsg","show","findById","params","id","game","create","body","update","findByIdAndUpdate","$set","new","destroy","findByIdAndRemove"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AAKO,IAAMA,wBAAQ,SAARA,KAAQ,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACvC,iBAAKC,IAAL,GAAYC,IAAZ,GAAmBC,IAAnB,CAAwB,UAACC,GAAD,EAAMC,KAAN,EAAgB;AACtC,QAAID,GAAJ,EAAS;AACP,aAAOL,IAAIO,MAAJ,CAAW,GAAX,EACJC,IADI,CACC;AACJC,eAAOJ,IAAIK;AADP,OADD,CAAP;AAID,KALD,MAKO;AACLV,UAAIQ,IAAJ,CAAS,2BAAUF,KAAV,CAAT;AACD;AACF,GATD;AAUD,CAXM;;AAaA,IAAMK,sBAAO,SAAPA,IAAO,CAACZ,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACtC,iBAAKW,QAAL,CAAcb,IAAIc,MAAJ,CAAWC,EAAzB,EAA6BX,IAA7B,GAAoCC,IAApC,CAAyC,UAACC,GAAD,EAAMU,IAAN,EAAe;AACtD,QAAIV,GAAJ,EAAS;AACP,aAAOL,IAAIO,MAAJ,CAAW,GAAX,EACJC,IADI,CACC;AACJC,eAAOJ,IAAIK;AADP,OADD,CAAP;AAID,KALD,MAKO;AACLV,UAAIQ,IAAJ,CAAS,0BAASO,IAAT,CAAT;AACD;AACF,GATD;AAUD,CAXM;;AAaA,IAAMC,0BAAS,SAATA,MAAS,CAACjB,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACxC,iBAAKe,MAAL,CAAYjB,IAAIkB,IAAJ,CAASF,IAArB,EAA2B,UAASV,GAAT,EAAcU,IAAd,EAAoB;AAC7C,QAAIV,GAAJ,EAAS;AACP,aAAOL,IAAIO,MAAJ,CAAW,GAAX,EACJC,IADI,CACC;AACJC,eAAOJ,IAAIK;AADP,OADD,CAAP;AAID,KALD,MAKO;AACL,aAAOV,IAAIQ,IAAJ,CAAS,EAAT,CAAP;AACD;AACF,GATD;AAUD,CAXM;;AAaA,IAAMU,0BAAS,SAATA,MAAS,CAACnB,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACxC,iBAAKkB,iBAAL,CAAuBpB,IAAIc,MAAJ,CAAWC,EAAlC,EAAsC;AACpCM,UAAMrB,IAAIkB,IAAJ,CAASF;AADqB,GAAtC,EAEG;AACDM,SAAK;AADJ,GAFH,EAIGjB,IAJH,CAIQ,UAACC,GAAD,EAAMU,IAAN,EAAe;AACrB,QAAIV,GAAJ,EAAS;AACP,aAAOL,IAAIO,MAAJ,CAAW,GAAX,EACJC,IADI,CACC;AACJC,eAAOJ,IAAIK;AADP,OADD,CAAP;AAID,KALD,MAKO;AACL,aAAOV,IAAIQ,IAAJ,CAAS,0BAASO,IAAT,CAAT,CAAP;AACD;AACF,GAbD;AAcD,CAfM;;AAiBA,IAAMO,4BAAU,SAAVA,OAAU,CAACvB,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACzC,iBAAKsB,iBAAL,CAAuBxB,IAAIc,MAAJ,CAAWC,EAAlC,EAAsCV,IAAtC,CAA2C,UAACC,GAAD,EAAMU,IAAN,EAAe;AACxD,QAAIV,GAAJ,EAAS;AACP,aAAOL,IAAIO,MAAJ,CAAW,GAAX,EACJC,IADI,CACC;AACJC,eAAOJ,IAAIK;AADP,OADD,CAAP;AAID,KALD,MAKO;AACL,aAAOV,IAAIQ,IAAJ,CAAS,EAAT,CAAP;AACD;AACF,GATD;AAUD,CAXM","file":"game_controller.js","sourcesContent":["import Game from '../models/game';\nimport {\n  gameIndex,\n  gameShow\n} from '../views/games_view';\n\nexport const index = (req, res, next) => {\n  Game.find().lean().exec((err, games) => {\n    if (err) {\n      return res.status(400)\n        .json({\n          error: err.errmsg\n        });\n    } else {\n      res.json(gameIndex(games));\n    }\n  });\n};\n\nexport const show = (req, res, next) => {\n  Game.findById(req.params.id).lean().exec((err, game) => {\n    if (err) {\n      return res.status(400)\n        .json({\n          error: err.errmsg\n        });\n    } else {\n      res.json(gameShow(game));\n    }\n  });\n};\n\nexport const create = (req, res, next) => {\n  Game.create(req.body.game, function(err, game) {\n    if (err) {\n      return res.status(400)\n        .json({\n          error: err.errmsg\n        });\n    } else {\n      return res.json({});\n    }\n  });\n};\n\nexport const update = (req, res, next) => {\n  Game.findByIdAndUpdate(req.params.id, {\n    $set: req.body.game\n  }, {\n    new: true\n  }).exec((err, game) => {\n    if (err) {\n      return res.status(400)\n        .json({\n          error: err.errmsg\n        });\n    } else {\n      return res.json(gameShow(game));\n    }\n  });\n};\n\nexport const destroy = (req, res, next) => {\n  Game.findByIdAndRemove(req.params.id).exec((err, game) => {\n    if (err) {\n      return res.status(400)\n        .json({\n          error: err.errmsg\n        });\n    } else {\n      return res.json({});\n    }\n  });\n};"]}