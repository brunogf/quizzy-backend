{"version":3,"sources":["../../../app/controllers/users_controller.js"],"names":["Object","defineProperty","exports","value","destroy","update","create","show","index","undefined","_user","require","_user2","_interopRequireDefault","_users_view","obj","__esModule","default","req","res","next","find","lean","exec","err","users","json","userIndex","findById","params","id","user","status","error","errmsg","userShow","body","findByIdAndUpdate","$set","new","findByIdAndRemove"],"mappings":"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","file":"users_controller.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.destroy = exports.update = exports.create = exports.show = exports.index = undefined;\n\nvar _user = require('../models/user');\n\nvar _user2 = _interopRequireDefault(_user);\n\nvar _users_view = require('../views/users_view');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar index = exports.index = function index(req, res, next) {\n  _user2.default.find().lean().exec(function (err, users) {\n    res.json((0, _users_view.userIndex)(users));\n  });\n};\n\nvar show = exports.show = function show(req, res, next) {\n  _user2.default.findById(req.params.id).lean().exec(function (err, user) {\n    if (err) {\n      return res.status(400).json({\n        error: err.errmsg\n      });\n    } else {\n      res.json((0, _users_view.userShow)(user));\n    }\n  });\n};\n\nvar create = exports.create = function create(req, res, next) {\n  _user2.default.create(req.body.user, function (err, user) {\n    if (err) {\n      return res.status(400).json({\n        error: err.errmsg\n      });\n    } else {\n      return res.json({});\n    }\n  });\n};\n\nvar update = exports.update = function update(req, res, next) {\n  _user2.default.findByIdAndUpdate(req.params.id, {\n    $set: req.body.user\n  }, {\n    new: true\n  }).exec(function (err, user) {\n    if (err) {\n      return res.status(400).json({\n        error: err.errmsg\n      });\n    } else {\n      return res.json((0, _users_view.userShow)(user));\n    }\n  });\n};\n\nvar destroy = exports.destroy = function destroy(req, res, next) {\n  _user2.default.findByIdAndRemove(req.params.id).exec(function (err, user) {\n    if (err) {\n      return res.status(400).json({\n        error: err.errmsg\n      });\n    } else {\n      return res.json({});\n    }\n  });\n};\n//# sourceMappingURL=users_controller.js.map"]}