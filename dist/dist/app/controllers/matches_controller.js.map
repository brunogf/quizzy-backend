{"version":3,"sources":["../../../app/controllers/matches_controller.js"],"names":["Object","defineProperty","exports","value","destroy","update","create","show","index","undefined","_match","require","_match2","_interopRequireDefault","_matches_view","obj","__esModule","default","req","res","next","find","lean","exec","err","matches","json","matchIndex","findOne","params","url","match","status","error","errmsg","matchShow","body","findByIdAndUpdate","id","$set","new","findByIdAndRemove"],"mappings":"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","file":"matches_controller.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.destroy = exports.update = exports.create = exports.show = exports.index = undefined;\n\nvar _match = require('../models/match');\n\nvar _match2 = _interopRequireDefault(_match);\n\nvar _matches_view = require('../views/matches_view');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar index = exports.index = function index(req, res, next) {\n  _match2.default.find().lean().exec(function (err, matches) {\n    res.json((0, _matches_view.matchIndex)(matches));\n  });\n};\n\nvar show = exports.show = function show(req, res, next) {\n  _match2.default.findOne({\n    'url': req.params.url\n  }).lean().exec(function (err, match) {\n    if (err) {\n      return res.status(400).json({\n        error: err.errmsg\n      });\n    } else {\n      if (match == null) {\n        return res.status(404).json({});\n      } else {\n        res.json((0, _matches_view.matchShow)(match));\n      }\n    }\n  });\n};\n\nvar create = exports.create = function create(req, res, next) {\n  _match2.default.create(req.body.match, function (err, match) {\n    if (err) {\n      return res.status(400).json({\n        error: err.errmsg\n      });\n    } else {\n      return res.json({});\n    }\n  });\n};\n\nvar update = exports.update = function update(req, res, next) {\n  _match2.default.findByIdAndUpdate(req.params.id, {\n    $set: req.body.match\n  }, {\n    new: true\n  }).exec(function (err, match) {\n    if (err) {\n      return res.status(400).json({\n        error: err.errmsg\n      });\n    } else {\n      return res.json((0, _matches_view.matchShow)(match));\n    }\n  });\n};\n\nvar destroy = exports.destroy = function destroy(req, res, next) {\n  _match2.default.findByIdAndRemove(req.params.id).exec(function (err, match) {\n    if (err) {\n      return res.status(400).json({\n        error: err.errmsg\n      });\n    } else {\n      return res.json({});\n    }\n  });\n};\n//# sourceMappingURL=matches_controller.js.map"]}